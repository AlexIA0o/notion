<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Calendario pastel 2026</title>

  <style>
  /* Fuente redondita usando solo system fonts */
  * {
      font-family: "Segoe UI", "Helvetica Neue", "Arial Rounded MT Bold", "Verdana", sans-serif !important;
  }

  /* Fondo general */
  body {
      background-color: #F7F4EC; /* crema suave */
      height: 100vh;
      color: #4A473F; /* gris cálido */
      margin: 0;
  }

  /* Centrado del calendario */
  .wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      min-height: 100%;
  }

  /* Fix Firefox botones */
  button::-moz-focus-inner { 
    border: 0;
    padding: 0;
  }

  /* Tarjeta del calendario */
  #calendari {
      margin: 40px 0 10px 0;
      position: relative;
      overflow: hidden;
      height: 360px;       /* altura suficiente para ver todo el mes */
      width: 350px;
      font-size: 14px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      border-radius: 22px;
      background-color: #FDFBF4; /* fondo tarjeta */
  }

  /* Tabla del mes */
  table {
      border-collapse: collapse;
      table-layout: fixed;
      width: 350px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.05);
      background-color: #FDFBF4;
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(0);
      transition: all 0.3s ease;
      border-radius: 22px;
  }

  table.actiu {
      transform: translateX(0);
  }
  table.inactiu {
      transition: all 0.3s 0.01s ease;
  }
  table.amagat-esquerra {
      transform: translateX(-299px);
  }
  table.amagat-dreta {
      transform: translateX(300px);
  }

  td,
  th {
      text-align: center;
      background-color: #FDFBF4;
  }

  /* CABECERA MES/AÑO (primera fila) */
  tr:first-child th {
      font-size: 20px;
      font-weight: 700;
      border-left: none;
      border-top: none;
      background-color: #F5D26A; /* amarillo header */
      color: #345060;
      text-shadow: none;
      padding: 12px 10px 16px;
      position: relative;
  }

  /* Día de la semana (segunda fila) */
  tr:nth-child(2) th {
      padding: 6px;
      border-top: 1px solid rgba(0,0,0,0.04);
      border-right: 1px solid rgba(0,0,0,0.04);
      background-color: #F9E6A7; /* amarillo mantequilla */
      color: #4A473F;
      font-weight: 600;
  }

  /* etiqueta del año bajo el mes */
  th .any {
      font-size: 12px;
      font-weight: normal;
      display: block;
      color: rgba(52,80,96,0.7);
  }

  td:last-child,
  th:last-child {
    border-right: none;
  }

  /* Celdas de días */
  td {
      padding: 0;
      border-bottom: 1px solid rgba(0,0,0,0.04);
  }

  td > span {
      color: #4A473F;
      padding: 9px 0;
      display: block;
      border: 2px solid transparent;
      transition: border 0.25s ease,
                background-color 0.25s ease,
                color 0.25s ease;
      border-radius: 12px;
      margin: 2px 6px;
      font-weight: 500;
  }

  /* Alternar fondo muy suave */
  td:nth-child(even) > span {
      background-color: rgba(167,215,249,0.14); /* celeste muy claro */
  }

  /* Sábado y domingo un poquito más suaves */
  td:last-child > span,
  td:nth-child(6) > span {
      color: #7BB9DC;
  }

  /* Día actual */
  td.avui > span {
      font-weight: 700;
      background-color: #F5D26A; /* amarillo más cálido */
      color: #fff;
      border: 2px solid #EAC75D;
      box-shadow: 0 3px 6px rgba(0,0,0,0.16);
  }

  /* Días fuera del mes */
  td.fora > span {
      opacity: 0.3;
      color: rgba(74,71,63,0.6);
      background-color: transparent;
  }

  /* Hover sobre cualquier día */
  td > span:hover {
      background-color: #7BB9DC; /* celeste acento */
      color: #ffffff;
      border-color: rgba(123,185,220,0.9);
  }

  /* Botones siguiente / anterior estilo Psyduck */
  .boto-next,
  .boto-prev {
      background: #ffffff;                /* fondo blanco */
      color: #7BB9DC;                     /* flecha celeste */
      border: 2px solid #A7D7F9;          /* borde celeste pastel */
      font-size: 18px;
      font-weight: bold;
      padding: 2px 10px 5px 10px;
      line-height: 1px;
      height: 32px;
      width: 32px;
      border-radius: 999px;
      position: absolute;
      top: 10px;
      box-shadow: 0 4px 12px rgba(167,215,249,0.25);
  }

  .boto-next { 
      right: 14px; 
      padding-left: 13px; 
  }
  .boto-prev { 
      left: 14px; 
      padding-right: 13px;
  }

  .boto-next:hover,
  .boto-prev:hover {
      background: #A7D7F9; /* celeste pastel */
      color: #ffffff;      /* flecha blanca */
      border-color: #7BB9DC;
  }

  button:hover { 
      cursor: pointer; 
  }
  button:focus { 
      outline: none; 
  }

  /* Pie de página opcional */
  footer {
    text-align: center;
    color: #8F8A7F;
    font-weight: normal;
    font-size: 0.8em;
    padding: 10px;
  }

  footer a,
  footer a:link {
    color: #7BB9DC;
    text-decoration: none;
  }
  footer a:hover {
    text-decoration: underline;
  }
  </style>
</head>
<body>
  <div class="wrapper">
    <div id="calendari"></div>
    <footer><a href="https://boudra.me">boudra.me</a></footer>
  </div>

  <script>
  // --- JS DEL CALENDARIO ---

  var mesos = [
      'Enero',
      'Febrero',
      'Marzo',
      'Abril',
      'Mayo',
      'Junio',
      'Julio',
      'Agosto',
      'Septiembre',
      'Octubre',
      'Noviembre',
      'Diciembre'
  ];

  // abreviaturas días
  var dies_abr = [
      'Do',
      'Lu',
      'Ma',
      'Mi',
      'Ju',
      'Vi',
      'Sa'
  ];

  Number.prototype.pad = function(num) {
      var str = '';
      for (var i = 0; i < (num - this.toString().length); i++)
          str += '0';
      return str += this.toString();
  }

  function calendari(widget, data) {

      var original = widget.getElementsByClassName('actiu')[0];

      if (typeof original === 'undefined') {
          original = document.createElement('table');
          original.setAttribute('data-actual',
                    data.getFullYear() + '/' +
                    data.getMonth().pad(2) + '/' +
                    data.getDate().pad(2));
          widget.appendChild(original);
      }

      var diff = data - new Date(original.getAttribute('data-actual'));
      diff = new Date(diff).getMonth();

      var e = document.createElement('table');
      e.className = diff === 0 ? 'amagat-esquerra' : 'amagat-dreta';
      e.innerHTML = '';
      widget.appendChild(e);

      e.setAttribute('data-actual',
                     data.getFullYear() + '/' +
                     data.getMonth().pad(2) + '/' +
                     data.getDate().pad(2));

      var fila = document.createElement('tr');
      var titol = document.createElement('th');
      titol.setAttribute('colspan', 7);

      var boto_prev = document.createElement('button');
      boto_prev.className = 'boto-prev';
      boto_prev.innerHTML = '&#9666;';

      var boto_next = document.createElement('button');
      boto_next.className = 'boto-next';
      boto_next.innerHTML = '&#9656;';

      titol.appendChild(boto_prev);
      titol.appendChild(document.createElement('span')).innerHTML =
          mesos[data.getMonth()] + '<span class="any">' + data.getFullYear() + '</span>';

      titol.appendChild(boto_next);

      boto_prev.onclick = function() {
          data.setMonth(data.getMonth() - 1);
          calendari(widget, data);
      };

      boto_next.onclick = function() {
          data.setMonth(data.getMonth() + 1);
          calendari(widget, data);
      };

      fila.appendChild(titol);
      e.appendChild(fila);

      fila = document.createElement('tr');

      // cabecera: Lu Ma Mi Ju Vi Sa Do
      for (var i = 1; i < 7; i++) {
          fila.innerHTML += '<th>' + dies_abr[i] + '</th>';
      }
      fila.innerHTML += '<th>' + dies_abr[0] + '</th>';
      e.appendChild(fila);

      // día en que acabó el mes anterior
      var inici_mes =
          new Date(data.getFullYear(), data.getMonth(), -1).getDay();

      var actual = new Date(
          data.getFullYear(),
          data.getMonth(),
          -inici_mes
      );

      // 6 semanas para cubrir todos los casos
      for (var s = 0; s < 6; s++) {
          var fila = document.createElement('tr');

          for (var d = 1; d < 8; d++) {
              var cela = document.createElement('td');
              var span = document.createElement('span');

              cela.appendChild(span);
              span.innerHTML = actual.getDate();

              if (actual.getMonth() !== data.getMonth())
                  cela.className = 'fora';

              // marcar hoy
              var hoy = new Date();
              if (actual.getDate() == hoy.getDate() &&
                  actual.getMonth() == hoy.getMonth() &&
                  actual.getFullYear() == hoy.getFullYear()) {
                  cela.className = 'avui';
              }

              actual.setDate(actual.getDate() + 1);
              fila.appendChild(cela);
          }

          e.appendChild(fila);
      }

      setTimeout(function() {
          e.className = 'actiu';
          original.className +=
              diff === 0 ? ' amagat-dreta' : ' amagat-esquerra';
      }, 20);

      original.className = 'inactiu';

      setTimeout(function() {
          var inactius = document.getElementsByClassName('inactiu');
          while (inactius[0]) {
              inactius[0].parentNode.removeChild(inactius[0]);
          }
      }, 1000);
  }

  calendari(document.getElementById('calendari'), new Date());
  </script>
</body>
</html>
