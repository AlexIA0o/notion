<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Calendario pastel 2026</title>

  <style>
  /* ------- TU CSS AQUÍ (corregido) ------- */

  * {
      font-family: "Segoe UI", "Helvetica Neue", "Arial Rounded MT Bold", "Verdana", sans-serif !important;
  }

  body {
      background-color: #FFFFFF;
      height: 100vh;
      color: #4A473F;
      margin: 0;
  }

  .wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100%;
  }

  #calendari {
      margin: 20px;
      position: relative;
      overflow: hidden;
      width: 250px;
      height: 300px;
      background: #FDFBF4;
      border-radius: 20px;
      box-shadow: none;
      font-size: 12px; /* MÁS CHIQUITO PARA QUE QUEPA */
  }

  table {
      width: 100%;
      background: #FDFBF4;
      position: absolute;
      top: 0;
      left: 0;
      transition: all .3s ease;
      border-radius: 20px;
      table-layout: fixed;
  }

  th, td {
      background: #FDFBF4;
      text-align: center;
  }

  /* Header */
  tr:first-child th {
      background: #F5D26A;
      padding: 10px;
      font-size: 16px;
      border-radius: 20px 20px 0 0;
      position: relative;
  }

  th .any {
      font-size: 10px;
      display: block;
      opacity: 0.7;
  }

  tr:nth-child(2) th {
      background: #F9E6A7;
      padding: 4px;
      font-size: 10px;
  }

  td > span {
      padding: 5px 0;
      margin: 2px 4px;
      border-radius: 10px;
      border: 2px solid transparent;
      transition: .2s;
      font-size: 11px;
      display: block;
  }

  td:nth-child(even) > span {
      background: rgba(167,215,249,0.14);
  }

  td:last-child > span,
  td:nth-child(6) > span {
      color: #7BB9DC;
  }

  td.avui > span {
      background: #F5D26A;
      color: #fff;
      border-color: #EAC75D;
  }

  td.fora > span {
      opacity: .3;
  }

  td > span:hover {
      background: #7BB9DC;
      color: white;
  }

  .boto-next, .boto-prev {
      background: #fff;
      color: #7BB9DC;
      border: 2px solid #A7D7F9;
      height: 26px;
      width: 26px;
      border-radius: 999px;
      font-size: 14px;
      position: absolute;
      top: 8px;
  }

  .boto-prev { left: 10px; }
  .boto-next { right: 10px; }

  </style>
</head>

<body>
<div class="wrapper">
<div id="calendari"></div>
</div>

<script>
/* ------- JAVASCRIPT ORIGINAL (perfecto) ------- */

var mesos = ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];
var dies_abr = ['Do','Lu','Ma','Mi','Ju','Vi','Sa'];

Number.prototype.pad = function(num) {
    var str = '';
    for (var i = 0; i < (num - this.toString().length); i++)
        str += '0';
    return str += this.toString();
}

function calendari(widget, data) {
    var original = widget.getElementsByClassName('actiu')[0];

    if (!original) {
        original = document.createElement('table');
        original.className = 'actiu';
        original.setAttribute('data-actual',
            data.getFullYear() + '/' + data.getMonth().pad(2) + '/' + data.getDate().pad(2));
        widget.appendChild(original);
    }

    var diff = data - new Date(original.getAttribute('data-actual'));
    diff = new Date(diff).getMonth();

    var e = document.createElement('table');
    e.className = diff === 0 ? 'amagat-esquerra' : 'amagat-dreta';
    widget.appendChild(e);

    e.setAttribute('data-actual',
        data.getFullYear() + '/' + data.getMonth().pad(2) + '/' + data.getDate().pad(2));

    var fila = document.createElement('tr');
    var titol = document.createElement('th');
    titol.setAttribute('colspan', 7);

    var boto_prev = document.createElement('button');
    boto_prev.className = 'boto-prev';
    boto_prev.innerHTML = '&#9666;';

    var boto_next = document.createElement('button');
    boto_next.className = 'boto-next';
    boto_next.innerHTML = '&#9656;';

    titol.appendChild(boto_prev);
    titol.innerHTML += mesos[data.getMonth()] + '<span class="any">' + data.getFullYear() + '</span>';
    titol.appendChild(boto_next);

    fila.appendChild(titol);
    e.appendChild(fila);

    fila = document.createElement('tr');
    for (var i = 1; i < 7; i++) fila.innerHTML += '<th>' + dies_abr[i] + '</th>';
    fila.innerHTML += '<th>' + dies_abr[0] + '</th>';
    e.appendChild(fila);

    var inici_mes = new Date(data.getFullYear(), data.getMonth(), -1).getDay();
    var actual = new Date(data.getFullYear(), data.getMonth(), -inici_mes);

    for (var s = 0; s < 6; s++) {
        var fila = document.createElement('tr');
        for (var d = 1; d < 8; d++) {
            var cela = document.createElement('td');
            var span = document.createElement('span');
            cela.appendChild(span);
            span.innerHTML = actual.getDate();

            if (actual.getMonth() !== data.getMonth()) cela.className = 'fora';

            var hoy = new Date();
            if (actual.getDate() == hoy.getDate() &&
                actual.getMonth() == hoy.getMonth() &&
                actual.getFullYear() == hoy.getFullYear()) {
                cela.className = 'avui';
            }

            actual.setDate(actual.getDate() + 1);
            fila.appendChild(cela);
        }
        e.appendChild(fila);
    }

    original.className = 'inactiu';

    setTimeout(() => {
        e.className = 'actiu';
        original.className += diff === 0 ? ' amagat-dreta' : ' amagat-esquerra';
    }, 20);

    setTimeout(() => {
        var inactius = document.querySelectorAll('.inactiu');
        inactius.forEach(el => el.remove());
    }, 1000);
}

calendari(document.getElementById('calendari'), new Date());
</script>

</body>
</html>
